import{d as Ve,f as m,a as v,e as W,c as Ze}from"../chunks/B2hMdp0w.js";import{p as ea,f as F,s as l,t as R,g as t,a as x,b as aa,c,e as ta,d as r,u as ra,$ as sa,n as u,r as s}from"../chunks/B6pf1Lel.js";import{s as A}from"../chunks/B5McELYr.js";import{i as w}from"../chunks/CdHX5Yt-.js";import{H as ia,F as la,a as oa,t as O,b as U,f as da,c as Z,T as na,d as ca}from"../chunks/D531CRc5.js";import{h as va,b as ue,r as me,s as fa,a as ua}from"../chunks/D5PGl7_s.js";import{b as pe}from"../chunks/DLbpR92z.js";import{b as ma}from"../chunks/DH98gRLd.js";import{k as pa,U as ga,L as xa,g as _a,a as ba,f as ha,D as wa,b as ya}from"../chunks/DDsLL4_h.js";import{S as ge}from"../chunks/C25VEck4.js";import{S as ka}from"../chunks/J3ReljZx.js";import{C as Da}from"../chunks/Bpg1xt99.js";var Fa=m('<div role="button" tabindex="0"><input type="file" accept=".pdf,application/pdf" class="hidden"/> <div class="flex flex-col items-center justify-center gap-4 px-6"><div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-fuchsia-500/20 to-purple-500/20"><!></div> <p class="text-lg font-medium text-surface-200">Drop a PDF here or click to browse</p></div></div>'),Ra=m('<img alt="" class="w-full h-full object-cover"/>'),Ua=m('<div class="w-full h-full flex items-center justify-center"><!></div>'),La=m('<div class="mt-4"><div class="h-2 bg-surface-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-fuchsia-500 to-purple-500 transition-all"></div></div></div>'),ja=m('<div class="mt-4 p-4 rounded-xl bg-green-500/10 border border-green-500/30"><div class="flex items-center justify-between"><p class="text-green-400 font-medium flex items-center gap-2"><!> Watermark added!</p> <button class="flex items-center gap-2 rounded-lg bg-green-500 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-600"><!> Download</button></div></div>'),Pa=m('<div class="glass rounded-2xl p-4"><div class="flex items-start gap-4"><div class="h-24 w-20 rounded-lg bg-surface-800 overflow-hidden flex-shrink-0"><!></div> <div class="flex-1 min-w-0"><p class="font-medium text-surface-200 truncate"> </p> <p class="text-sm text-surface-500 mt-1"> </p> <button class="mt-2 text-sm text-red-400 hover:text-red-300 flex items-center gap-1"><!> Remove</button></div></div> <!></div> <!>',1),Ta=m("<!> Adding...",1),Wa=m("<!> Add Watermark",1),Aa=m('<div class="flex min-h-screen flex-col"><!> <div class="fixed inset-0 -z-10 overflow-hidden"><div class="absolute -top-1/2 -right-1/4 h-[800px] w-[800px] rounded-full bg-gradient-to-br from-fuchsia-500/10 to-purple-500/10 blur-3xl"></div></div> <main class="flex-1 px-4 sm:px-6 lg:px-8 pt-28 pb-12"><div class="mx-auto max-w-4xl"><div class="text-center mb-8"><div class="inline-flex items-center gap-2 rounded-full bg-fuchsia-500/10 px-4 py-1.5 text-sm font-medium text-fuchsia-400 mb-4"><!> Add Watermark</div> <h1 class="text-3xl font-bold text-surface-100">Add a text watermark</h1> <p class="mt-2 text-surface-500">Stamp all pages with custom text</p></div> <div class="grid gap-6 lg:grid-cols-2"><div><!></div> <div class="glass rounded-2xl p-6"><h3 class="flex items-center gap-2 text-lg font-semibold text-surface-100 mb-6"><!> Watermark Settings</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-surface-300 mb-2">Watermark Text</label> <input type="text" placeholder="Enter watermark text" class="w-full rounded-xl bg-surface-800 border border-surface-700 px-4 py-2.5 text-surface-100 placeholder:text-surface-600 focus:border-accent-start focus:outline-none"/></div> <div><label class="block text-sm font-medium text-surface-300 mb-2"> </label> <input type="range" min="5" max="100" step="5" class="w-full accent-accent-start"/></div> <div class="p-4 rounded-xl bg-surface-800/50 border border-surface-700/50"><p class="text-xs text-surface-400">Preview: The watermark will appear diagonally across each page with the specified opacity.</p> <div class="mt-2 relative h-24 bg-white rounded-lg flex items-center justify-center overflow-hidden"><span class="text-2xl font-bold text-gray-300 rotate-[-45deg]"> </span></div></div></div> <button class="mt-6 w-full flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-fuchsia-500 to-purple-500 px-6 py-3 text-base font-semibold text-white shadow-lg transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"><!></button></div></div></div></main> <!></div> <!>',1);function Ya(xe,_e){ea(_e,!0);let o=x(null),y=x(!1),_=x("CONFIDENTIAL"),k=x(30),b=x(null),C=x(0),S,L=x(!1);const ee=ra(()=>t(o)!==null);function be(){return`pdf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function ae(e){const a=e.find(f=>f.type==="application/pdf"||f.name.endsWith(".pdf"));if(!a){U.error("Please select a PDF file");return}t(o)&&URL.revokeObjectURL(t(o).originalUrl);const i={id:be(),file:a,originalUrl:URL.createObjectURL(a)};try{i.thumbnail=await _a(a),i.pageCount=await ba(a)}catch(f){console.warn("Failed to get PDF metadata:",f)}c(o,i,!0),c(b,null),U.success("PDF loaded")}function he(){t(o)&&(URL.revokeObjectURL(t(o).originalUrl),c(o,null),c(b,null))}async function we(){if(!t(o)||!t(_).trim()){U.error("Please enter watermark text");return}c(y,!0),c(C,0);try{const e=await pa(t(o).file,{text:t(_),opacity:t(k),onProgress:a=>{c(C,a,!0)}});c(b,e,!0),U.success("Watermark added!")}catch(e){console.error("Watermark error:",e),U.error(e instanceof Error?e.message:"Failed to add watermark")}finally{c(y,!1)}}function ye(){if(!t(b)||!t(o))return;const e=ya(t(o).file.name,"watermark"),a=URL.createObjectURL(t(b)),i=document.createElement("a");i.href=a,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}function ke(e){e.preventDefault(),c(L,!0)}function De(e){e.preventDefault();const a=e.currentTarget.getBoundingClientRect();(e.clientX<a.left||e.clientX>a.right||e.clientY<a.top||e.clientY>a.bottom)&&c(L,!1)}function Fe(e){e.preventDefault()}async function Re(e){e.preventDefault(),c(L,!1),e.dataTransfer?.files&&await ae(Array.from(e.dataTransfer.files))}function te(){S?.click()}async function Ue(e){const a=e.target;a.files&&await ae(Array.from(a.files)),a.value=""}var re=Aa();va("3kpp6x",e=>{ta(()=>{sa.title="Add Watermark - Smash"})});var E=F(re),se=r(E);ia(se,{});var $=l(se,4),ie=r($),j=r(ie),le=r(j),Le=r(le);ge(Le,{class:"h-4 w-4"}),u(),s(le),u(4),s(j);var oe=l(j,2),I=r(oe),je=r(I);{var Pe=e=>{var a=Fa();a.__click=te,a.__keydown=p=>p.key==="Enter"&&te();var i=r(a);i.__change=Ue,ma(i,p=>S=p,()=>S);var f=l(i,2),h=r(f),T=r(h);ga(T,{class:"h-8 w-8 text-fuchsia-400"}),s(h),u(2),s(f),s(a),R(()=>fa(a,1,`relative overflow-hidden rounded-2xl border-2 border-dashed transition-all duration-300 cursor-pointer py-16 ${t(L)?"border-accent-start bg-accent-start/10 scale-[1.02]":"border-surface-700 hover:border-surface-600 bg-surface-900/50"}`)),W("dragenter",a,ke),W("dragleave",a,De),W("dragover",a,Fe),W("drop",a,Re),v(e,a)},Te=e=>{var a=Ze(),i=F(a);{var f=h=>{var T=Pa(),p=F(T),K=r(p),q=r(K),Be=r(q);{var ze=d=>{var n=Ra();R(()=>ua(n,"src",t(o).thumbnail)),v(d,n)},He=d=>{var n=Ua(),g=r(n);ca(g,{class:"h-10 w-10 text-surface-500"}),s(n),v(d,n)};w(Be,d=>{t(o).thumbnail?d(ze):d(He,!1)})}s(q);var fe=l(q,2),G=r(fe),Me=r(G,!0);s(G);var J=l(G,2),Ne=r(J);s(J);var Q=l(J,2);Q.__click=he;var Xe=r(Q);na(Xe,{class:"h-3 w-3"}),u(),s(Q),s(fe),s(K);var Ye=l(K,2);{var Ke=d=>{var n=La(),g=r(n),D=r(g);s(g),s(n),R(()=>ue(D,`width: ${t(C)??""}%`)),v(d,n)};w(Ye,d=>{t(y)&&d(Ke)})}s(p);var qe=l(p,2);{var Ge=d=>{var n=ja(),g=r(n),D=r(g),Je=r(D);Da(Je,{class:"h-4 w-4"}),u(),s(D);var V=l(D,2);V.__click=ye;var Qe=r(V);wa(Qe,{class:"h-3 w-3"}),u(),s(V),s(g),s(n),O(1,n,()=>Z,()=>({y:10,duration:200})),v(d,n)};w(qe,d=>{t(b)&&d(Ge)})}R(d=>{A(Me,t(o).file.name),A(Ne,`${d??""} â€¢ ${t(o).pageCount??""} pages`)},[()=>ha(t(o).file.size)]),O(1,p,()=>Z,()=>({y:20,duration:200})),v(h,T)};w(i,h=>{t(o)&&h(f)},!0)}v(e,a)};w(je,e=>{t(ee)?e(Te,!1):e(Pe)})}s(I);var B=l(I,2),z=r(B),We=r(z);ka(We,{class:"h-5 w-5 text-accent-start"}),u(),s(z);var H=l(z,2),M=r(H),de=l(r(M),2);me(de),s(M);var N=l(M,2),X=r(N),Ae=r(X);s(X);var ne=l(X,2);me(ne),s(N);var ce=l(N,2),ve=l(r(ce),2),Y=r(ve),Oe=r(Y,!0);s(Y),s(ve),s(ce),s(H);var P=l(H,2);P.__click=we;var Ce=r(P);{var Se=e=>{var a=Ta(),i=F(a);xa(i,{class:"h-5 w-5 animate-spin"}),u(),v(e,a)},Ee=e=>{var a=Wa(),i=F(a);ge(i,{class:"h-5 w-5"}),u(),v(e,a)};w(Ce,e=>{t(y)?e(Se):e(Ee,!1)})}s(P),s(B),s(oe),s(ie),s($);var $e=l($,2);la($e),s(E);var Ie=l(E,2);oa(Ie,{}),R(e=>{A(Ae,`Opacity: ${t(k)??""}%`),ue(Y,`opacity: ${t(k)/100}`),A(Oe,t(_)||"WATERMARK"),P.disabled=e},[()=>!t(ee)||t(y)||!t(_).trim()]),O(1,j,()=>da,()=>({duration:200})),pe(de,()=>t(_),e=>c(_,e)),pe(ne,()=>t(k),e=>c(k,e)),O(1,B,()=>Z,()=>({y:20,delay:100,duration:200})),v(xe,re),aa()}Ve(["click","keydown","change"]);export{Ya as component};
