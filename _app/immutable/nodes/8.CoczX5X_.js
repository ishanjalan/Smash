import{d as ot,f as u,a as v,e as O,c as it}from"../chunks/B2hMdp0w.js";import{p as lt,f as L,c,s as i,g as t,a as g,t as U,b as nt,u as ee,e as dt,d as r,$ as ct,n as f,r as s}from"../chunks/B6pf1Lel.js";import{s as ge}from"../chunks/B5McELYr.js";import{i as b}from"../chunks/CdHX5Yt-.js";import{H as vt,F as ft,a as ut,t as T,b as A,f as pt,c as te,T as mt,d as gt,S as bt}from"../chunks/hVPv6d8V.js";import{h as _t,r as be,a as ae,s as _e,b as xt}from"../chunks/D5PGl7_s.js";import{b as xe}from"../chunks/DLbpR92z.js";import{b as ht}from"../chunks/DH98gRLd.js";import{p as wt,U as yt,L as Pt,g as Dt,a as Ft,f as kt,D as Lt,b as Ut}from"../chunks/B9MancQR.js";import{L as he}from"../chunks/BkEgFE2M.js";import{S as Rt}from"../chunks/BuRMJjll.js";import{E as Et,a as St}from"../chunks/CaaJceKg.js";var jt=u('<div role="button" tabindex="0"><input type="file" accept=".pdf,application/pdf" class="hidden"/> <div class="flex flex-col items-center justify-center gap-4 px-6"><div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-green-500/20 to-emerald-500/20"><!></div> <p class="text-lg font-medium text-surface-200">Drop a PDF here or click to browse</p></div></div>'),Ct=u('<img alt="" class="w-full h-full object-cover"/>'),Ot=u('<div class="w-full h-full flex items-center justify-center"><!></div>'),Tt=u('<div class="mt-4"><div class="h-2 bg-surface-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all"></div></div></div>'),At=u('<div class="mt-4 p-4 rounded-xl bg-green-500/10 border border-green-500/30"><div class="flex items-center justify-between"><div><p class="text-green-400 font-medium flex items-center gap-2"><!> PDF protected!</p> <p class="text-xs text-surface-500">Encrypted with AES-256</p></div> <button class="flex items-center gap-2 rounded-lg bg-green-500 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-600"><!> Download</button></div></div>'),zt=u('<div class="glass rounded-2xl p-4"><div class="flex items-start gap-4"><div class="h-24 w-20 rounded-lg bg-surface-800 overflow-hidden flex-shrink-0"><!></div> <div class="flex-1 min-w-0"><p class="font-medium text-surface-200 truncate"> </p> <p class="text-sm text-surface-500 mt-1"> </p> <button class="mt-2 text-sm text-red-400 hover:text-red-300 flex items-center gap-1"><!> Remove</button></div></div> <!></div> <!>',1),Bt=u('<p class="text-xs text-red-400 mt-1">Passwords do not match</p>'),It=u("<!> Protecting...",1),Yt=u("<!> Protect PDF",1),$t=u('<div class="flex min-h-screen flex-col"><!> <div class="fixed inset-0 -z-10 overflow-hidden"><div class="absolute -top-1/2 -right-1/4 h-[800px] w-[800px] rounded-full bg-gradient-to-br from-green-500/10 to-emerald-500/10 blur-3xl"></div></div> <main class="flex-1 px-4 sm:px-6 lg:px-8 pt-28 pb-12"><div class="mx-auto max-w-4xl"><div class="text-center mb-8"><div class="inline-flex items-center gap-2 rounded-full bg-green-500/10 px-4 py-1.5 text-sm font-medium text-green-400 mb-4"><!> Protect PDF</div> <h1 class="text-3xl font-bold text-surface-100">Password protect your PDF</h1> <p class="mt-2 text-surface-500">Secure with AES-256 encryption</p></div> <div class="grid gap-6 lg:grid-cols-2"><div><!></div> <div class="glass rounded-2xl p-6"><h3 class="flex items-center gap-2 text-lg font-semibold text-surface-100 mb-6"><!> Password Settings</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-surface-300 mb-2">Password</label> <div class="relative"><input placeholder="Enter password (min 4 characters)" class="w-full rounded-xl bg-surface-800 border border-surface-700 px-4 py-2.5 pr-10 text-surface-100 placeholder:text-surface-600 focus:border-accent-start focus:outline-none"/> <button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300"><!></button></div></div> <div><label class="block text-sm font-medium text-surface-300 mb-2">Confirm Password</label> <input placeholder="Confirm password"/> <!></div> <div class="p-4 rounded-xl bg-surface-800/50 border border-surface-700/50"><p class="text-xs text-surface-400"><strong class="text-surface-300">Security:</strong> Your PDF will be encrypted with AES-256. Remember your password - it cannot be recovered!</p></div></div> <button class="mt-6 w-full flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-3 text-base font-semibold text-white shadow-lg transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"><!></button></div></div></div></main> <!></div> <!>',1);function ea(we,ye){lt(ye,!0);let l=g(null),y=g(!1),_=g(""),P=g(""),D=g(!1),h=g(null),z=g(0),B,R=g(!1);const re=ee(()=>t(l)!==null),I=ee(()=>t(_)===t(P)),se=ee(()=>t(re)&&t(_).length>=4&&t(I));function Pe(){return`pdf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function oe(e){const a=e.find(p=>p.type==="application/pdf"||p.name.endsWith(".pdf"));if(!a){A.error("Please select a PDF file");return}t(l)&&URL.revokeObjectURL(t(l).originalUrl);const o={id:Pe(),file:a,originalUrl:URL.createObjectURL(a)};try{o.thumbnail=await Dt(a),o.pageCount=await Ft(a)}catch(p){console.warn("Failed to get PDF metadata:",p)}c(l,o,!0),c(h,null),A.success("PDF loaded")}function De(){t(l)&&(URL.revokeObjectURL(t(l).originalUrl),c(l,null),c(h,null))}async function Fe(){if(!(!t(l)||!t(se))){c(y,!0),c(z,0);try{const e=await wt(t(l).file,{userPassword:t(_),onProgress:a=>{c(z,a,!0)}});c(h,e,!0),A.success("PDF protected with AES-256 encryption!")}catch(e){console.error("Protect error:",e),A.error(e instanceof Error?e.message:"Failed to protect PDF")}finally{c(y,!1)}}}function ke(){if(!t(h)||!t(l))return;const e=Ut(t(l).file.name,"protect"),a=URL.createObjectURL(t(h)),o=document.createElement("a");o.href=a,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}function Le(e){e.preventDefault(),c(R,!0)}function Ue(e){e.preventDefault();const a=e.currentTarget.getBoundingClientRect();(e.clientX<a.left||e.clientX>a.right||e.clientY<a.top||e.clientY>a.bottom)&&c(R,!1)}function Re(e){e.preventDefault()}async function Ee(e){e.preventDefault(),c(R,!1),e.dataTransfer?.files&&await oe(Array.from(e.dataTransfer.files))}function ie(){B?.click()}async function Se(e){const a=e.target;a.files&&await oe(Array.from(a.files)),a.value=""}var le=$t();_t("u2qz74",e=>{dt(()=>{ct.title="Protect PDF - Smash"})});var Y=L(le),ne=r(Y);vt(ne,{});var $=i(ne,4),de=r($),E=r(de),ce=r(E),je=r(ce);he(je,{class:"h-4 w-4"}),f(),s(ce),f(4),s(E);var ve=i(E,2),H=r(ve),Ce=r(H);{var Oe=e=>{var a=jt();a.__click=ie,a.__keydown=m=>m.key==="Enter"&&ie();var o=r(a);o.__change=Se,ht(o,m=>B=m,()=>B);var p=i(o,2),w=r(p),C=r(w);yt(C,{class:"h-8 w-8 text-green-400"}),s(w),f(2),s(p),s(a),U(()=>_e(a,1,`relative overflow-hidden rounded-2xl border-2 border-dashed transition-all duration-300 cursor-pointer py-16 ${t(R)?"border-accent-start bg-accent-start/10 scale-[1.02]":"border-surface-700 hover:border-surface-600 bg-surface-900/50"}`)),O("dragenter",a,Le),O("dragleave",a,Ue),O("dragover",a,Re),O("drop",a,Ee),v(e,a)},Te=e=>{var a=it(),o=L(a);{var p=w=>{var C=zt(),m=L(C),J=r(m),K=r(J),Ge=r(K);{var Je=n=>{var d=Ct();U(()=>ae(d,"src",t(l).thumbnail)),v(n,d)},Ke=n=>{var d=Ot(),x=r(d);gt(x,{class:"h-10 w-10 text-surface-500"}),s(d),v(n,d)};b(Ge,n=>{t(l).thumbnail?n(Je):n(Ke,!1)})}s(K);var pe=i(K,2),N=r(pe),Ne=r(N,!0);s(N);var Q=i(N,2),Qe=r(Q);s(Q);var V=i(Q,2);V.__click=De;var Ve=r(V);mt(Ve,{class:"h-3 w-3"}),f(),s(V),s(pe),s(J);var Ze=i(J,2);{var et=n=>{var d=Tt(),x=r(d),k=r(x);s(x),s(d),U(()=>xt(k,`width: ${t(z)??""}%`)),v(n,d)};b(Ze,n=>{t(y)&&n(et)})}s(m);var tt=i(m,2);{var at=n=>{var d=At(),x=r(d),k=r(x),me=r(k),rt=r(me);bt(rt,{class:"h-4 w-4"}),f(),s(me),f(2),s(k);var Z=i(k,2);Z.__click=ke;var st=r(Z);Lt(st,{class:"h-3 w-3"}),f(),s(Z),s(x),s(d),T(1,d,()=>te,()=>({y:10,duration:200})),v(n,d)};b(tt,n=>{t(h)&&n(at)})}U(n=>{ge(Ne,t(l).file.name),ge(Qe,`${n??""} â€¢ ${t(l).pageCount??""} pages`)},[()=>kt(t(l).file.size)]),T(1,m,()=>te,()=>({y:20,duration:200})),v(w,C)};b(o,w=>{t(l)&&w(p)},!0)}v(e,a)};b(Ce,e=>{t(re)?e(Te,!1):e(Oe)})}s(H);var M=i(H,2),X=r(M),Ae=r(X);Rt(Ae,{class:"h-5 w-5 text-accent-start"}),f(),s(X);var q=i(X,2),W=r(q),fe=i(r(W),2),S=r(fe);be(S);var G=i(S,2);G.__click=()=>c(D,!t(D));var ze=r(G);{var Be=e=>{Et(e,{class:"h-4 w-4"})},Ie=e=>{St(e,{class:"h-4 w-4"})};b(ze,e=>{t(D)?e(Be):e(Ie,!1)})}s(G),s(fe),s(W);var ue=i(W,2),F=i(r(ue),2);be(F);var Ye=i(F,2);{var $e=e=>{var a=Bt();v(e,a)};b(Ye,e=>{t(_)&&t(P)&&!t(I)&&e($e)})}s(ue),f(2),s(q);var j=i(q,2);j.__click=Fe;var He=r(j);{var Me=e=>{var a=It(),o=L(a);Pt(o,{class:"h-5 w-5 animate-spin"}),f(),v(e,a)},Xe=e=>{var a=Yt(),o=L(a);he(o,{class:"h-5 w-5"}),f(),v(e,a)};b(He,e=>{t(y)?e(Me):e(Xe,!1)})}s(j),s(M),s(ve),s(de),s($);var qe=i($,2);ft(qe),s(Y);var We=i(Y,2);ut(We,{}),U(()=>{ae(S,"type",t(D)?"text":"password"),ae(F,"type",t(D)?"text":"password"),_e(F,1,`w-full rounded-xl bg-surface-800 border ${t(_)&&t(P)&&!t(I)?"border-red-500":"border-surface-700"} px-4 py-2.5 text-surface-100 placeholder:text-surface-600 focus:border-accent-start focus:outline-none`),j.disabled=!t(se)||t(y)}),T(1,E,()=>pt,()=>({duration:200})),xe(S,()=>t(_),e=>c(_,e)),xe(F,()=>t(P),e=>c(P,e)),T(1,M,()=>te,()=>({y:20,delay:100,duration:200})),v(we,le),nt()}ot(["click","keydown","change"]);export{ea as component};
