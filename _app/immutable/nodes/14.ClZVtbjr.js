import{c as _e,a as f,d as Ze,f as g,e as O}from"../chunks/B2hMdp0w.js";import{f as y,p as et,c as d,s as n,g as a,a as b,t as U,b as tt,u as pe,e as at,d as r,$ as rt,n as c,r as s}from"../chunks/B6pf1Lel.js";import{s as me}from"../chunks/B5McELYr.js";import{l as st,s as ot,i as h}from"../chunks/CdHX5Yt-.js";import{I as lt,s as nt,H as it,F as dt,a as ct,t as I,b as L,f as vt,c as Z,T as ft,d as ut}from"../chunks/BzTW8vK3.js";import{h as pt,r as mt,a as ge,s as gt,b as _t}from"../chunks/BiLWwA0e.js";import{b as bt}from"../chunks/DLbpR92z.js";import{b as ht}from"../chunks/DH98gRLd.js";import{u as xt,U as wt,L as yt,g as kt,a as Dt,f as Ft,D as Pt,b as Ut}from"../chunks/BW6OrMhS.js";import{L as ee}from"../chunks/BIao3zXa.js";import{S as Lt}from"../chunks/D_l1NbVp.js";import{E as Rt,a as jt}from"../chunks/CyG_7Ipq.js";import"../chunks/iFr6U_qS.js";function $t(S,R){const l=st(R,["children","$$slots","$$events","$$legacy"]);const _=[["path",{d:"m2 2 20 20"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264"}]];lt(S,ot({name:"shield-off"},()=>l,{get iconNode(){return _},children:(x,k)=>{var u=_e(),D=y(u);nt(D,R,"default",{}),f(x,u)},$$slots:{default:!0}}))}var Et=g('<div role="button" tabindex="0"><input type="file" accept=".pdf,application/pdf" class="hidden"/> <div class="flex flex-col items-center justify-center gap-4 px-6"><div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-amber-500/20 to-orange-500/20"><!></div> <p class="text-lg font-medium text-surface-200">Drop a locked PDF here</p></div></div>'),Tt=g('<img alt="" class="w-full h-full object-cover"/>'),Ct=g('<div class="mt-4"><div class="h-2 bg-surface-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-amber-500 to-orange-500 transition-all"></div></div></div>'),Ot=g('<div class="mt-4 p-4 rounded-xl bg-green-500/10 border border-green-500/30"><div class="flex items-center justify-between"><div><p class="text-green-400 font-medium flex items-center gap-2"><!> PDF unlocked!</p> <p class="text-xs text-surface-500">Password protection removed</p></div> <button class="flex items-center gap-2 rounded-lg bg-green-500 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-600"><!> Download</button></div></div>'),It=g('<div class="glass rounded-2xl p-4"><div class="flex items-start gap-4"><div class="h-24 w-20 rounded-lg bg-surface-800 overflow-hidden flex-shrink-0 flex items-center justify-center"><!></div> <div class="flex-1 min-w-0"><p class="font-medium text-surface-200 truncate"> </p> <p class="text-sm text-surface-500 mt-1"> </p> <p class="text-xs text-amber-400 mt-1 flex items-center gap-1"><!> Password protected</p> <button class="mt-2 text-sm text-red-400 hover:text-red-300 flex items-center gap-1"><!> Remove</button></div></div> <!></div> <!>',1),St=g("<!> Unlocking...",1),zt=g("<!> Unlock PDF",1),At=g('<div class="flex min-h-screen flex-col"><!> <div class="fixed inset-0 -z-10 overflow-hidden"><div class="absolute -top-1/2 -right-1/4 h-[800px] w-[800px] rounded-full bg-gradient-to-br from-amber-500/10 to-orange-500/10 blur-3xl"></div></div> <main class="flex-1 px-4 sm:px-6 lg:px-8 pt-28 pb-12"><div class="mx-auto max-w-4xl"><div class="text-center mb-8"><div class="inline-flex items-center gap-2 rounded-full bg-amber-500/10 px-4 py-1.5 text-sm font-medium text-amber-400 mb-4"><!> Unlock PDF</div> <h1 class="text-3xl font-bold text-surface-100">Remove password protection</h1> <p class="mt-2 text-surface-500">Enter the password to create an unlocked copy</p></div> <div class="grid gap-6 lg:grid-cols-2"><div><!></div> <div class="glass rounded-2xl p-6"><h3 class="flex items-center gap-2 text-lg font-semibold text-surface-100 mb-6"><!> Unlock Settings</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-surface-300 mb-2">PDF Password</label> <div class="relative"><input placeholder="Enter the PDF password" class="w-full rounded-xl bg-surface-800 border border-surface-700 px-4 py-2.5 pr-10 text-surface-100 placeholder:text-surface-600 focus:border-accent-start focus:outline-none"/> <button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300"><!></button></div></div> <div class="p-4 rounded-xl bg-surface-800/50 border border-surface-700/50"><p class="text-xs text-surface-400"><strong class="text-surface-300">Note:</strong> You must know the password to unlock the PDF. This tool does not crack or bypass password protection.</p></div></div> <button class="mt-6 w-full flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 px-6 py-3 text-base font-semibold text-white shadow-lg transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"><!></button></div></div></div></main> <!></div> <!>',1);function Zt(S,R){et(R,!0);let l=b(null),_=b(!1),x=b(""),k=b(!1),u=b(null),D=b(0),z,j=b(!1);const te=pe(()=>a(l)!==null),ae=pe(()=>a(te)&&a(x).length>0);function be(){return`pdf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function re(e){const t=e.find(p=>p.type==="application/pdf"||p.name.endsWith(".pdf"));if(!t){L.error("Please select a PDF file");return}a(l)&&URL.revokeObjectURL(a(l).originalUrl);const o={id:be(),file:t,originalUrl:URL.createObjectURL(t)};try{o.thumbnail=await kt(t),o.pageCount=await Dt(t)}catch(p){console.warn("Failed to get PDF metadata (possibly encrypted):",p)}d(l,o,!0),d(u,null),L.success("PDF loaded - enter password to unlock")}function he(){a(l)&&(URL.revokeObjectURL(a(l).originalUrl),d(l,null),d(u,null))}async function xe(){if(!(!a(l)||!a(ae))){d(_,!0),d(D,0);try{const e=await xt(a(l).file,{password:a(x),onProgress:t=>{d(D,t,!0)}});d(u,e,!0),L.success("PDF unlocked successfully!")}catch(e){console.error("Unlock error:",e);const t=e instanceof Error?e.message:"Failed to unlock PDF";t.toLowerCase().includes("password")?L.error("Incorrect password. Please try again."):L.error(t)}finally{d(_,!1)}}}function we(){if(!a(u)||!a(l))return;const e=Ut(a(l).file.name,"unlock"),t=URL.createObjectURL(a(u)),o=document.createElement("a");o.href=t,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}function ye(e){e.preventDefault(),d(j,!0)}function ke(e){e.preventDefault();const t=e.currentTarget.getBoundingClientRect();(e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom)&&d(j,!1)}function De(e){e.preventDefault()}async function Fe(e){e.preventDefault(),d(j,!1),e.dataTransfer?.files&&await re(Array.from(e.dataTransfer.files))}function se(){z?.click()}async function Pe(e){const t=e.target;t.files&&await re(Array.from(t.files)),t.value=""}var oe=At();pt("16ulh2t",e=>{at(()=>{rt.title="Unlock PDF - Smash"})});var A=y(oe),le=r(A);it(le,{});var B=n(le,4),ne=r(B),$=r(ne),ie=r($),Ue=r(ie);ee(Ue,{class:"h-4 w-4"}),c(),s(ie),c(4),s($);var de=n($,2),M=r(de),Le=r(M);{var Re=e=>{var t=Et();t.__click=se,t.__keydown=m=>m.key==="Enter"&&se();var o=r(t);o.__change=Pe,ht(o,m=>z=m,()=>z);var p=n(o,2),w=r(p),C=r(w);wt(C,{class:"h-8 w-8 text-amber-400"}),s(w),c(2),s(p),s(t),U(()=>gt(t,1,`relative overflow-hidden rounded-2xl border-2 border-dashed transition-all duration-300 cursor-pointer py-16 ${a(j)?"border-accent-start bg-accent-start/10 scale-[1.02]":"border-surface-700 hover:border-surface-600 bg-surface-900/50"}`)),O("dragenter",t,ye),O("dragleave",t,ke),O("dragover",t,De),O("drop",t,Fe),f(e,t)},je=e=>{var t=_e(),o=y(t);{var p=w=>{var C=It(),m=y(C),W=r(m),q=r(W),Be=r(q);{var Me=i=>{var v=Tt();U(()=>ge(v,"src",a(l).thumbnail)),f(i,v)},Ne=i=>{ut(i,{class:"h-10 w-10 text-surface-500"})};h(Be,i=>{a(l).thumbnail?i(Me):i(Ne,!1)})}s(q);var fe=n(q,2),G=r(fe),Ye=r(G,!0);s(G);var J=n(G,2),He=r(J,!0);s(J);var K=n(J,2),Xe=r(K);ee(Xe,{class:"h-3 w-3"}),c(),s(K);var Q=n(K,2);Q.__click=he;var We=r(Q);ft(We,{class:"h-3 w-3"}),c(),s(Q),s(fe),s(W);var qe=n(W,2);{var Ge=i=>{var v=Ct(),F=r(v),P=r(F);s(F),s(v),U(()=>_t(P,`width: ${a(D)??""}%`)),f(i,v)};h(qe,i=>{a(_)&&i(Ge)})}s(m);var Je=n(m,2);{var Ke=i=>{var v=Ot(),F=r(v),P=r(F),ue=r(P),Qe=r(ue);$t(Qe,{class:"h-4 w-4"}),c(),s(ue),c(2),s(P);var V=n(P,2);V.__click=we;var Ve=r(V);Pt(Ve,{class:"h-3 w-3"}),c(),s(V),s(F),s(v),I(1,v,()=>Z,()=>({y:10,duration:200})),f(i,v)};h(Je,i=>{a(u)&&i(Ke)})}U(i=>{me(Ye,a(l).file.name),me(He,i)},[()=>Ft(a(l).file.size)]),I(1,m,()=>Z,()=>({y:20,duration:200})),f(w,C)};h(o,w=>{a(l)&&w(p)},!0)}f(e,t)};h(Le,e=>{a(te)?e(je,!1):e(Re)})}s(M);var N=n(M,2),Y=r(N),$e=r(Y);Lt($e,{class:"h-5 w-5 text-accent-start"}),c(),s(Y);var H=n(Y,2),ce=r(H),ve=n(r(ce),2),E=r(ve);mt(E);var X=n(E,2);X.__click=()=>d(k,!a(k));var Ee=r(X);{var Te=e=>{Rt(e,{class:"h-4 w-4"})},Ce=e=>{jt(e,{class:"h-4 w-4"})};h(Ee,e=>{a(k)?e(Te):e(Ce,!1)})}s(X),s(ve),s(ce),c(2),s(H);var T=n(H,2);T.__click=xe;var Oe=r(T);{var Ie=e=>{var t=St(),o=y(t);yt(o,{class:"h-5 w-5 animate-spin"}),c(),f(e,t)},Se=e=>{var t=zt(),o=y(t);ee(o,{class:"h-5 w-5"}),c(),f(e,t)};h(Oe,e=>{a(_)?e(Ie):e(Se,!1)})}s(T),s(N),s(de),s(ne),s(B);var ze=n(B,2);dt(ze),s(A);var Ae=n(A,2);ct(Ae,{}),U(()=>{ge(E,"type",a(k)?"text":"password"),T.disabled=!a(ae)||a(_)}),I(1,$,()=>vt,()=>({duration:200})),bt(E,()=>a(x),e=>d(x,e)),I(1,N,()=>Z,()=>({y:20,delay:100,duration:200})),f(S,oe),tt()}Ze(["click","keydown","change"]);export{Zt as component};
