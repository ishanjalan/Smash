const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DPwqC8tG.js","../chunks/B9MancQR.js","../chunks/B2hMdp0w.js","../chunks/B6pf1Lel.js","../chunks/iFr6U_qS.js","../chunks/hVPv6d8V.js","../chunks/CdHX5Yt-.js","../chunks/C7pjArQ4.js","../chunks/CPo9_Nzo.js","../chunks/D5PGl7_s.js","../chunks/BvibNTYV.js","../chunks/B5McELYr.js"])))=>i.map(i=>d[i]);
import{_ as Rt}from"../chunks/PPVm8Dsz.js";import{c as N,a as p,d as St,f as h,e as ae,t as De}from"../chunks/B2hMdp0w.js";import{f as z,p as Lt,a as se,h as jt,d as o,s as i,t as S,b as Ft,g as t,c as D,u as B,e as Mt,$ as Ot,n as G,r,aI as It}from"../chunks/B6pf1Lel.js";import{s as y}from"../chunks/B5McELYr.js";import{l as ne,s as ie,i as _,c as Bt}from"../chunks/CdHX5Yt-.js";import{I as le,s as ce,H as At,e as Te,F as Tt,a as Et,t as J,b as re,i as Nt,f as Ht,c as Pe,d as Ee,T as qt,h as Vt,C as Wt}from"../chunks/hVPv6d8V.js";import{h as Yt,s as Ne,a as Zt,b as Gt}from"../chunks/D5PGl7_s.js";import{b as Jt}from"../chunks/DH98gRLd.js";import{o as Xt,g as Qt,a as Kt,U as ea,f as oe,L as He,D as qe,b as Ve}from"../chunks/B9MancQR.js";import{M as We}from"../chunks/joETP9V_.js";import{S as ta}from"../chunks/BuRMJjll.js";import"../chunks/iFr6U_qS.js";import{C as aa}from"../chunks/D4BdhZZ8.js";function sa(L,b){const l=ne(b,["children","$$slots","$$events","$$legacy"]);const $=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];le(L,ie({name:"book-open"},()=>l,{get iconNode(){return $},children:(P,A)=>{var m=N(),j=z(m);ce(j,b,"default",{}),p(P,m)},$$slots:{default:!0}}))}function ra(L,b){const l=ne(b,["children","$$slots","$$events","$$legacy"]);const $=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5"}],["path",{d:"m9 15 2 2 4-4"}]];le(L,ie({name:"file-check"},()=>l,{get iconNode(){return $},children:(P,A)=>{var m=N(),j=z(m);ce(j,b,"default",{}),p(P,m)},$$slots:{default:!0}}))}function oa(L,b){const l=ne(b,["children","$$slots","$$events","$$legacy"]);const $=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21"}]];le(L,ie({name:"monitor"},()=>l,{get iconNode(){return $},children:(P,A)=>{var m=N(),j=z(m);ce(j,b,"default",{}),p(P,m)},$$slots:{default:!0}}))}function na(L,b){const l=ne(b,["children","$$slots","$$events","$$legacy"]);const $=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1"}]];le(L,ie({name:"printer"},()=>l,{get iconNode(){return $},children:(P,A)=>{var m=N(),j=z(m);ce(j,b,"default",{}),p(P,m)},$$slots:{default:!0}}))}var ia=h('<p class="mt-1 text-sm text-surface-500">Supports PDF files</p>'),la=h('<img alt="" class="w-full h-full object-cover"/>'),ca=h('<div class="w-full h-full flex items-center justify-center"><!></div>'),da=h("<span> </span>"),va=h('<span class="text-surface-600">→</span> <span class="text-green-400"> </span> <span class="text-green-400 font-medium"> </span>',1),pa=h('<div class="mt-1"><div class="h-1 bg-surface-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-accent-start to-accent-end transition-all"></div></div> <p class="text-xs text-surface-500 mt-0.5"> </p></div>'),ua=h('<p class="text-xs text-red-400 mt-0.5"> </p>'),fa=h('<button class="p-2 text-green-400 hover:text-green-300 transition-colors" title="Download"><!></button>'),ma=h('<div class="glass rounded-xl p-3 flex items-center justify-between"><div class="flex items-center gap-3 min-w-0 flex-1"><div class="h-12 w-12 rounded-lg bg-surface-800 overflow-hidden flex-shrink-0"><!></div> <div class="min-w-0 flex-1"><p class="text-sm font-medium text-surface-200 truncate"> </p> <div class="flex items-center gap-2 text-xs text-surface-500 mt-0.5"><span> </span> <!> <!></div> <!> <!></div></div> <div class="flex items-center gap-1 ml-2"><!> <button class="p-2 text-surface-500 hover:text-red-400 transition-colors" title="Remove"><!></button></div></div>'),ga=h('<div class="mt-4 p-4 rounded-xl bg-green-500/10 border border-green-500/30"><div class="flex items-center justify-between"><div><p class="text-green-400 font-medium flex items-center gap-2"><!> </p> <p class="text-sm text-surface-500"> <span class="text-green-400"> </span></p></div> <button class="flex items-center gap-2 rounded-xl bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600 transition-colors"><!> Download All</button></div></div>'),_a=h('<div class="mt-4 space-y-2"><!> <!></div>'),ha=h('<div class="absolute -top-1.5 -right-1.5 px-1.5 py-0.5 bg-green-500 text-white text-[10px] font-bold rounded-full">Best</div>'),xa=h('<button><!> <div class="flex items-center gap-2 mb-1"><!> <span class="font-medium"> </span></div> <p class="text-xs opacity-70"> </p></button>'),ba=h("<!> Compressing...",1),wa=h("<!> ",1),ya=h(`<div class="flex min-h-screen flex-col"><!> <div class="fixed inset-0 -z-10 overflow-hidden"><div class="absolute -top-1/2 -right-1/4 h-[800px] w-[800px] rounded-full bg-gradient-to-br from-violet-500/10 to-purple-500/10 blur-3xl"></div> <div class="absolute -bottom-1/2 -left-1/4 h-[600px] w-[600px] rounded-full bg-gradient-to-tr from-purple-500/10 to-violet-500/10 blur-3xl"></div></div> <main class="flex-1 px-4 sm:px-6 lg:px-8 pt-28 pb-12"><div class="mx-auto max-w-5xl"><div class="text-center mb-8"><div class="inline-flex items-center gap-2 rounded-full bg-violet-500/10 px-4 py-1.5 text-sm font-medium text-violet-400 mb-4"><!> Compress PDF</div> <h1 class="text-3xl font-bold text-surface-100">Reduce PDF file size by up to <span class="gradient-text">90%</span></h1> <p class="mt-2 text-surface-500">Uses Ghostscript for maximum compression while preserving text quality</p></div> <div class="grid gap-6 lg:grid-cols-2"><div><div role="button" tabindex="0"><input type="file" accept=".pdf,application/pdf" multiple class="hidden"/> <div class="flex flex-col items-center justify-center gap-4 px-6"><div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-violet-500/20 to-purple-500/20"><!></div> <div class="text-center"><p class="text-lg font-medium text-surface-200"><!></p> <!></div></div></div> <!></div> <div class="glass rounded-2xl p-6"><h3 class="flex items-center gap-2 text-lg font-semibold text-surface-100 mb-6"><!> Compression Settings</h3> <div class="space-y-3"><label class="block text-sm font-medium text-surface-300">Quality Preset</label> <div class="grid grid-cols-2 gap-2"></div></div> <div class="mt-6 p-4 rounded-xl bg-surface-800/50 border border-surface-700/50"><p class="text-sm text-surface-400"><strong class="text-surface-300">How it works:</strong> Your PDF is compressed using Ghostscript WASM directly in your browser. 
							Text remains searchable and selectable. Images are optimized based on your selected quality preset.</p></div> <button class="mt-6 w-full flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-violet-500 to-purple-500 px-6 py-3 text-base font-semibold text-white shadow-lg shadow-violet-500/30 transition-all hover:shadow-xl hover:shadow-violet-500/40 hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"><!></button></div></div></div></main> <!></div> <!>`,1);function Oa(L,b){Lt(b,!0);let l=se(jt([])),$=se(!1),P=se("ebook"),A,m=se(!1);const j={screen:{label:"Email/Web",desc:"Smallest (~70% reduction)",icon:oa},ebook:{label:"Reading",desc:"Balanced (~50% reduction)",icon:sa,recommended:!0},printer:{label:"Print-Ready",desc:"High quality (~30% reduction)",icon:na},prepress:{label:"Professional",desc:"Maximum quality",icon:ra}},X=B(()=>t(l).length>0),Q=B(()=>t(l).filter(e=>e.status==="pending").length),V=B(()=>t(l).filter(e=>e.status==="completed").length),de=B(()=>t(l).reduce((e,a)=>e+a.file.size,0)),ve=B(()=>t(l).filter(e=>e.compressedSize).reduce((e,a)=>e+(a.compressedSize||0),0)),Ye=B(()=>t(de)>0&&t(ve)>0?Math.round((1-t(ve)/t(de))*100):0);function Ze(){return`pdf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function ke(e){const a=e.filter(n=>n.type==="application/pdf"||n.name.endsWith(".pdf"));if(a.length===0){re.error("Please select PDF files");return}const d=[];for(const n of a){const f={id:Ze(),file:n,originalUrl:URL.createObjectURL(n),status:"pending",progress:0};try{f.thumbnail=await Qt(n),f.pageCount=await Kt(n)}catch(v){console.warn("Failed to get PDF metadata:",v)}d.push(f)}D(l,[...t(l),...d],!0),re.success(`Added ${a.length} PDF(s)`)}function Ge(e){const a=t(l).find(d=>d.id===e);a&&(URL.revokeObjectURL(a.originalUrl),a.compressedUrl&&URL.revokeObjectURL(a.compressedUrl)),D(l,t(l).filter(d=>d.id!==e),!0)}async function Je(){if(t(l).length===0)return;D($,!0);const e=t(l).filter(a=>a.status==="pending"||a.status==="error");for(const a of e){const d=performance.now();D(l,t(l).map(n=>n.id===a.id?{...n,status:"processing",progress:0,progressStage:"Initializing..."}:n),!0);try{const n=await Xt(a.file,{preset:t(P),onProgress:s=>{const g=s<30?"Initializing...":s<80?"Compressing...":"Finalizing...";D(l,t(l).map(w=>w.id===a.id?{...w,progress:s,progressStage:g}:w),!0)}}),f=Math.round(performance.now()-d),v=URL.createObjectURL(n);D(l,t(l).map(s=>s.id===a.id?{...s,status:"completed",progress:100,compressedUrl:v,compressedBlob:n,compressedSize:n.size,progressStage:`Done in ${(f/1e3).toFixed(1)}s`}:s),!0)}catch(n){console.error("Compression error:",n),D(l,t(l).map(f=>f.id===a.id?{...f,status:"error",error:n instanceof Error?n.message:"Compression failed"}:f),!0)}}D($,!1),t(V)>0&&re.success(`Compressed ${t(V)} PDF(s)`)}function Ce(e){if(!e.compressedBlob)return;const a=Ve(e.file.name,"compress"),d=URL.createObjectURL(e.compressedBlob),n=document.createElement("a");n.href=d,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(d)}async function Xe(){const e=t(l).filter(a=>a.status==="completed"&&a.compressedBlob);if(e.length!==0)if(e.length===1)Ce(e[0]);else{const{default:a}=await Rt(async()=>{const{default:s}=await import("../chunks/DPwqC8tG.js").then(g=>g.j);return{default:s}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url),d=new a;for(const s of e)if(s.compressedBlob){const g=Ve(s.file.name,"compress");d.file(g,s.compressedBlob)}const n=await d.generateAsync({type:"blob"}),f=URL.createObjectURL(n),v=document.createElement("a");v.href=f,v.download=`compressed-pdfs-${Date.now()}.zip`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(f),re.success(`Downloaded ${e.length} PDFs as ZIP`)}}function Qe(e){e.preventDefault(),D(m,!0)}function Ke(e){e.preventDefault();const a=e.currentTarget.getBoundingClientRect();(e.clientX<a.left||e.clientX>a.right||e.clientY<a.top||e.clientY>a.bottom)&&D(m,!1)}function et(e){e.preventDefault()}async function tt(e){e.preventDefault(),D(m,!1);const a=e.dataTransfer?.files;a&&a.length>0&&await ke(Array.from(a))}function ze(){A?.click()}async function at(e){const a=e.target;a.files&&a.files.length>0&&await ke(Array.from(a.files)),a.value=""}var Ue=ya();Yt("jac2d5",e=>{Mt(()=>{Ot.title="Compress PDF - Smash"})});var pe=z(Ue),Re=o(pe);At(Re,{});var ue=i(Re,4),Se=o(ue),K=o(Se),Le=o(K),st=o(Le);We(st,{class:"h-4 w-4"}),G(),r(Le),G(4),r(K);var je=i(K,2),fe=o(je),U=o(fe);U.__click=ze,U.__keydown=e=>e.key==="Enter"&&ze();var me=o(U);me.__change=at,Jt(me,e=>A=e,()=>A);var Fe=i(me,2),ge=o(Fe),rt=o(ge);{var ot=e=>{Ee(e,{class:"h-8 w-8 text-accent-start animate-pulse"})},nt=e=>{ea(e,{class:"h-8 w-8 text-violet-400"})};_(rt,e=>{t(m)?e(ot):e(nt,!1)})}r(ge);var Me=i(ge,2),_e=o(Me),it=o(_e);{var lt=e=>{var a=De("Drop to add files");p(e,a)},ct=e=>{var a=N(),d=z(a);{var n=v=>{var s=De("Add more PDFs");p(v,s)},f=v=>{var s=De("Drop PDFs here or click to browse");p(v,s)};_(d,v=>{t(X)?v(n):v(f,!1)},!0)}p(e,a)};_(it,e=>{t(m)?e(lt):e(ct,!1)})}r(_e);var dt=i(_e,2);{var vt=e=>{var a=ia();p(e,a)};_(dt,e=>{t(X)||e(vt)})}r(Me),r(Fe),r(U);var pt=i(U,2);{var ut=e=>{var a=_a(),d=o(a);Te(d,17,()=>t(l),v=>v.id,(v,s)=>{var g=ma(),w=o(g),k=o(w),T=o(k);{var H=c=>{var u=la();S(()=>Zt(u,"src",t(s).thumbnail)),p(c,u)},q=c=>{var u=ca(),x=o(u);Ee(x,{class:"h-6 w-6 text-surface-500"}),r(u),p(c,u)};_(T,c=>{t(s).thumbnail?c(H):c(q,!1)})}r(k);var O=i(k,2),I=o(O),F=o(I,!0);r(I);var C=i(I,2),W=o(C),we=o(W,!0);r(W);var te=i(W,2);{var bt=c=>{var u=da(),x=o(u);r(u),S(()=>y(x,`• ${t(s).pageCount??""} pages`)),p(c,u)};_(te,c=>{t(s).pageCount&&c(bt)})}var wt=i(te,2);{var yt=c=>{var u=va(),x=i(z(u),2),Y=o(x,!0);r(x);var E=i(x,2),R=o(E);r(E),S((M,Z)=>{y(Y,M),y(R,`(-${Z??""}%)`)},[()=>oe(t(s).compressedSize),()=>Math.round((1-t(s).compressedSize/t(s).file.size)*100)]),p(c,u)};_(wt,c=>{t(s).compressedSize&&c(yt)})}r(C);var Ie=i(C,2);{var $t=c=>{var u=pa(),x=o(u),Y=o(x);r(x);var E=i(x,2),R=o(E,!0);r(E),r(u),S(()=>{Gt(Y,`width: ${t(s).progress??""}%`),y(R,t(s).progressStage)}),p(c,u)};_(Ie,c=>{t(s).status==="processing"&&c($t)})}var Dt=i(Ie,2);{var Pt=c=>{var u=ua(),x=o(u,!0);r(u),S(()=>y(x,t(s).error)),p(c,u)};_(Dt,c=>{t(s).status==="error"&&c(Pt)})}r(O),r(w);var Be=i(w,2),Ae=o(Be);{var kt=c=>{He(c,{class:"h-5 w-5 text-accent-start animate-spin"})},Ct=c=>{var u=N(),x=z(u);{var Y=R=>{var M=fa();M.__click=()=>Ce(t(s));var Z=o(M);qe(Z,{class:"h-4 w-4"}),r(M),p(R,M)},E=R=>{var M=N(),Z=z(M);{var Ut=$e=>{Wt($e,{class:"h-5 w-5 text-red-400"})};_(Z,$e=>{t(s).status==="error"&&$e(Ut)},!0)}p(R,M)};_(x,R=>{t(s).status==="completed"?R(Y):R(E,!1)},!0)}p(c,u)};_(Ae,c=>{t(s).status==="processing"?c(kt):c(Ct,!1)})}var ye=i(Ae,2);ye.__click=()=>Ge(t(s).id);var zt=o(ye);qt(zt,{class:"h-4 w-4"}),r(ye),r(Be),r(g),S(c=>{y(F,t(s).file.name),y(we,c)},[()=>oe(t(s).file.size)]),J(1,g,()=>Vt,()=>({duration:200})),p(v,g)});var n=i(d,2);{var f=v=>{var s=ga(),g=o(s),w=o(g),k=o(w),T=o(k);aa(T,{class:"h-4 w-4"});var H=i(T);r(k);var q=i(k,2),O=o(q),I=i(O),F=o(I);r(I),r(q),r(w);var C=i(w,2);C.__click=Xe;var W=o(C);qe(W,{class:"h-4 w-4"}),G(),r(C),r(g),r(s),S((we,te)=>{y(H,` ${t(V)??""} PDF${t(V)!==1?"s":""} compressed`),y(O,`${we??""} → ${te??""} `),y(F,`(-${t(Ye)??""}%)`)},[()=>oe(t(de)),()=>oe(t(ve))]),J(1,s,()=>Pe,()=>({y:10,duration:200})),p(v,s)};_(n,v=>{t(V)>0&&v(f)})}r(a),J(1,a,()=>Pe,()=>({y:20,duration:200})),p(e,a)};_(pt,e=>{t(X)&&e(ut)})}r(fe);var he=i(fe,2),xe=o(he),ft=o(xe);ta(ft,{class:"h-5 w-5 text-accent-start"}),G(),r(xe);var be=i(xe,2),Oe=i(o(be),2);Te(Oe,21,()=>Object.entries(j),Nt,(e,a)=>{var d=B(()=>It(t(a),2));let n=()=>t(d)[0],f=()=>t(d)[1];const v=B(()=>f().icon);var s=xa();s.__click=()=>D(P,n(),!0);var g=o(s);{var w=F=>{var C=ha();p(F,C)};_(g,F=>{f().recommended&&F(w)})}var k=i(g,2),T=o(k);Bt(T,()=>t(v),(F,C)=>{C(F,{class:"h-4 w-4"})});var H=i(T,2),q=o(H,!0);r(H),r(k);var O=i(k,2),I=o(O,!0);r(O),r(s),S(()=>{Ne(s,1,`relative px-3 py-3 rounded-xl text-left transition-all ${t(P)===n()?"bg-accent-start text-white ring-2 ring-accent-start/50":"bg-surface-800 text-surface-400 hover:text-surface-200 hover:bg-surface-700"}`),y(q,f().label),y(I,f().desc)}),p(e,s)}),r(Oe),r(be);var ee=i(be,4);ee.__click=Je;var mt=o(ee);{var gt=e=>{var a=ba(),d=z(a);He(d,{class:"h-5 w-5 animate-spin"}),G(),p(e,a)},_t=e=>{var a=wa(),d=z(a);We(d,{class:"h-5 w-5"});var n=i(d);S(()=>y(n,` Compress ${t(Q)>0?`${t(Q)} PDF${t(Q)!==1?"s":""}`:"PDFs"}`)),p(e,a)};_(mt,e=>{t($)?e(gt):e(_t,!1)})}r(ee),r(he),r(je),r(Se),r(ue);var ht=i(ue,2);Tt(ht),r(pe);var xt=i(pe,2);Et(xt,{}),S(()=>{Ne(U,1,`relative overflow-hidden rounded-2xl border-2 border-dashed transition-all duration-300 cursor-pointer ${t(m)?"border-accent-start bg-accent-start/10 scale-[1.02]":"border-surface-700 hover:border-surface-600 bg-surface-900/50"} ${t(X)?"py-6":"py-12"}`),ee.disabled=t(l).length===0||t($)||t(Q)===0}),J(1,K,()=>Ht,()=>({duration:200})),ae("dragenter",U,Qe),ae("dragleave",U,Ke),ae("dragover",U,et),ae("drop",U,tt),J(1,he,()=>Pe,()=>({y:20,delay:100,duration:200})),p(L,Ue),Ft()}St(["click","keydown","change"]);export{Oa as component};
