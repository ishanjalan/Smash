import{d as Ye,f as b,a as u,e as O,c as We,t as ne}from"../chunks/B2hMdp0w.js";import{p as qe,f as F,s as o,t as y,g as a,a as D,b as Ge,c as v,e as Je,d as r,$ as Ke,n as _,r as s,u as Qe}from"../chunks/B6pf1Lel.js";import{s as G}from"../chunks/B5McELYr.js";import{i as h}from"../chunks/CdHX5Yt-.js";import{H as Ve,T as J,F as Ze,a as et,t as N,b as R,f as tt,c as K,d as at}from"../chunks/BHxJ5xGT.js";import{h as rt,r as st,s as lt,a as it,b as nt}from"../chunks/CCxuxKFj.js";import{b as ot}from"../chunks/DLbpR92z.js";import{b as dt}from"../chunks/DH98gRLd.js";import{d as ct,U as ft,L as vt,g as ut,a as pt,f as mt,D as gt,b as _t}from"../chunks/DSsX4WIa.js";import{S as bt}from"../chunks/BQ9nrRBZ.js";import{C as xt}from"../chunks/C1_zr6S_.js";var ht=b('<div role="button" tabindex="0"><input type="file" accept=".pdf,application/pdf" class="hidden"/> <div class="flex flex-col items-center justify-center gap-4 px-6"><div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-red-500/20 to-pink-500/20"><!></div> <p class="text-surface-200 text-lg font-medium">Drop a PDF here or click to browse</p></div></div>'),wt=b('<img alt="" class="h-full w-full object-cover"/>'),yt=b('<div class="flex h-full w-full items-center justify-center"><!></div>'),Dt=b('<div class="mt-4"><div class="bg-surface-700 h-2 overflow-hidden rounded-full"><div class="h-full bg-gradient-to-r from-red-500 to-pink-500 transition-all"></div></div></div>'),kt=b('<div class="mt-4 rounded-xl border border-green-500/30 bg-green-500/10 p-4"><div class="flex items-center justify-between"><p class="flex items-center gap-2 font-medium text-green-400"><!> Pages deleted!</p> <button class="flex items-center gap-2 rounded-lg bg-green-500 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-600"><!> Download</button></div></div>'),Pt=b('<div class="glass rounded-2xl p-4"><div class="flex items-start gap-4"><div class="bg-surface-800 h-24 w-20 flex-shrink-0 overflow-hidden rounded-lg"><!></div> <div class="min-w-0 flex-1"><p class="text-surface-200 truncate font-medium"> </p> <p class="text-surface-500 mt-1 text-sm"> </p> <button class="mt-2 flex items-center gap-1 text-sm text-red-400 hover:text-red-300"><!> Remove</button></div></div> <!></div> <!>',1),Ft=b("<!> Deleting...",1),Rt=b("<!> Delete Pages",1),Ut=b('<div class="flex min-h-screen flex-col"><!> <div class="fixed inset-0 -z-10 overflow-hidden"><div class="absolute -right-1/4 -top-1/2 h-[800px] w-[800px] rounded-full bg-gradient-to-br from-red-500/10 to-pink-500/10 blur-3xl"></div></div> <main class="flex-1 px-4 pb-12 pt-28 sm:px-6 lg:px-8"><div class="mx-auto max-w-4xl"><div class="mb-8 text-center"><div class="mb-4 inline-flex items-center gap-2 rounded-full bg-red-500/10 px-4 py-1.5 text-sm font-medium text-red-400"><!> Delete Pages</div> <h1 class="text-surface-100 text-3xl font-bold">Remove pages from your PDF</h1> <p class="text-surface-500 mt-2">Select pages to delete permanently</p></div> <div class="grid gap-6 lg:grid-cols-2"><div><!></div> <div class="glass rounded-2xl p-6"><h3 class="text-surface-100 mb-6 flex items-center gap-2 text-lg font-semibold"><!> Delete Options</h3> <div><label class="text-surface-300 mb-2 block text-sm font-medium">Pages to Delete</label> <input type="text" placeholder="e.g., 1-3, 5, 8-10" class="bg-surface-800 border-surface-700 text-surface-100 placeholder:text-surface-600 focus:border-accent-start w-full rounded-xl border px-4 py-2.5 focus:outline-none"/> <p class="text-surface-500 mt-1 text-xs"><!></p></div> <button class="mt-6 flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-red-500 to-pink-500 px-6 py-3 text-base font-semibold text-white shadow-lg transition-all hover:scale-[1.02] disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:scale-100"><!></button></div></div></div></main> <!></div> <!>',1);function Bt(oe,de){qe(de,!0);let i=D(null),k=D(!1),U=D(""),w=D(null),T=D(0),S,L=D(!1);const Q=Qe(()=>a(i)!==null);function ce(){return`pdf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function V(t){const e=t.find(p=>p.type==="application/pdf"||p.name.endsWith(".pdf"));if(!e){R.error("Please select a PDF file");return}a(i)&&URL.revokeObjectURL(a(i).originalUrl);const l={id:ce(),file:e,originalUrl:URL.createObjectURL(e)};try{l.thumbnail=await ut(e),l.pageCount=await pt(e)}catch(p){console.warn("Failed to get PDF metadata:",p)}v(i,l,!0),v(w,null),R.success("PDF loaded")}function fe(){a(i)&&(URL.revokeObjectURL(a(i).originalUrl),v(i,null),v(w,null))}function ve(t,e){const l=new Set,p=t.split(",").map(c=>c.trim());for(const c of p)if(c.includes("-")){const[f,m]=c.split("-").map(g=>parseInt(g.trim(),10));if(!isNaN(f)&&!isNaN(m))for(let g=Math.max(1,f);g<=Math.min(e,m);g++)l.add(g)}else{const f=parseInt(c,10);!isNaN(f)&&f>=1&&f<=e&&l.add(f)}return Array.from(l).sort((c,f)=>c-f)}async function ue(){if(!a(i))return;const t=ve(a(U),a(i).pageCount||0);if(t.length===0){R.error("No valid pages selected");return}v(k,!0),v(T,0);try{const e=await ct(a(i).file,{pages:t,onProgress:l=>{v(T,l,!0)}});v(w,e,!0),R.success(`Deleted ${t.length} page(s)`)}catch(e){console.error("Delete error:",e),R.error(e instanceof Error?e.message:"Delete failed")}finally{v(k,!1)}}function pe(){if(!a(w)||!a(i))return;const t=_t(a(i).file.name,"delete-pages"),e=URL.createObjectURL(a(w)),l=document.createElement("a");l.href=e,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(e)}function me(t){t.preventDefault(),v(L,!0)}function ge(t){t.preventDefault();const e=t.currentTarget.getBoundingClientRect();(t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom)&&v(L,!1)}function _e(t){t.preventDefault()}async function be(t){t.preventDefault(),v(L,!1),t.dataTransfer?.files&&await V(Array.from(t.dataTransfer.files))}function Z(){S?.click()}async function xe(t){const e=t.target;e.files&&await V(Array.from(e.files)),e.value=""}var ee=Ut();rt("io2n7k",t=>{Je(()=>{Ke.title="Delete Pages - Smash"})});var E=F(ee),te=r(E);Ve(te,{});var I=o(te,4),ae=r(I),j=r(ae),re=r(j),he=r(re);J(he,{class:"h-4 w-4"}),_(),s(re),_(4),s(j);var se=o(j,2),$=r(se),we=r($);{var ye=t=>{var e=ht();e.__click=Z,e.__keydown=m=>m.key==="Enter"&&Z();var l=r(e);l.__change=xe,dt(l,m=>S=m,()=>S);var p=o(l,2),c=r(p),f=r(c);ft(f,{class:"h-8 w-8 text-red-400"}),s(c),_(2),s(p),s(e),y(()=>lt(e,1,`relative cursor-pointer overflow-hidden rounded-2xl border-2 border-dashed py-16 transition-all duration-300 ${a(L)?"border-accent-start bg-accent-start/10 scale-[1.02]":"border-surface-700 hover:border-surface-600 bg-surface-900/50"}`)),O("dragenter",e,me),O("dragleave",e,ge),O("dragover",e,_e),O("drop",e,be),u(t,e)},De=t=>{var e=We(),l=F(e);{var p=c=>{var f=Pt(),m=F(f),g=r(m),H=r(g),Ne=r(H);{var Te=n=>{var d=wt();y(()=>it(d,"src",a(i).thumbnail)),u(n,d)},Se=n=>{var d=yt(),x=r(d);at(x,{class:"text-surface-500 h-10 w-10"}),s(d),u(n,d)};h(Ne,n=>{a(i).thumbnail?n(Te):n(Se,!1)})}s(H);var ie=o(H,2),X=r(ie),Ee=r(X,!0);s(X);var Y=o(X,2),Ie=r(Y);s(Y);var W=o(Y,2);W.__click=fe;var $e=r(W);J($e,{class:"h-3 w-3"}),_(),s(W),s(ie),s(g);var Ae=o(g,2);{var Be=n=>{var d=Dt(),x=r(d),P=r(x);s(x),s(d),y(()=>nt(P,`width: ${a(T)??""}%`)),u(n,d)};h(Ae,n=>{a(k)&&n(Be)})}s(m);var Me=o(m,2);{var ze=n=>{var d=kt(),x=r(d),P=r(x),He=r(P);xt(He,{class:"h-4 w-4"}),_(),s(P);var q=o(P,2);q.__click=pe;var Xe=r(q);gt(Xe,{class:"h-3 w-3"}),_(),s(q),s(x),s(d),N(1,d,()=>K,()=>({y:10,duration:200})),u(n,d)};h(Me,n=>{a(w)&&n(ze)})}y(n=>{G(Ee,a(i).file.name),G(Ie,`${n??""} â€¢ ${a(i).pageCount??""} pages`)},[()=>mt(a(i).file.size)]),N(1,m,()=>K,()=>({y:20,duration:200})),u(c,f)};h(l,c=>{a(i)&&c(p)},!0)}u(t,e)};h(we,t=>{a(Q)?t(De,!1):t(ye)})}s($);var A=o($,2),B=r(A),ke=r(B);bt(ke,{class:"text-accent-start h-5 w-5"}),_(),s(B);var M=o(B,2),z=o(r(M),2);st(z);var le=o(z,2),Pe=r(le);{var Fe=t=>{var e=ne();y(()=>G(e,`Document has ${a(i).pageCount??""} pages`)),u(t,e)},Re=t=>{var e=ne("Enter page numbers or ranges");u(t,e)};h(Pe,t=>{a(i)?t(Fe):t(Re,!1)})}s(le),s(M);var C=o(M,2);C.__click=ue;var Ue=r(C);{var Le=t=>{var e=Ft(),l=F(e);vt(l,{class:"h-5 w-5 animate-spin"}),_(),u(t,e)},je=t=>{var e=Rt(),l=F(e);J(l,{class:"h-5 w-5"}),_(),u(t,e)};h(Ue,t=>{a(k)?t(Le):t(je,!1)})}s(C),s(A),s(se),s(ae),s(I);var Ce=o(I,2);Ze(Ce),s(E);var Oe=o(E,2);et(Oe,{}),y(()=>C.disabled=!a(Q)||a(k)||!a(U)),N(1,j,()=>tt,()=>({duration:200})),ot(z,()=>a(U),t=>v(U,t)),N(1,A,()=>K,()=>({y:20,delay:100,duration:200})),u(oe,ee),Ge()}Ye(["click","keydown","change"]);export{Bt as component};
