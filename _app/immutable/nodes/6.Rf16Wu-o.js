import{d as Qe,f as b,e as P,a as _}from"../chunks/B2hMdp0w.js";import{p as Ve,a as k,h as Ze,f as H,s as d,d as a,t as $,b as et,e as tt,g as e,c as v,$ as rt,n as I,r as s,u as ee}from"../chunks/B6pf1Lel.js";import{s as x}from"../chunks/B5McELYr.js";import{i as O}from"../chunks/CdHX5Yt-.js";import{H as at,F as st,a as nt,t as te,b as T,f as ot,e as it,T as lt,g as dt,d as ct,c as me}from"../chunks/b0oTGZ-D.js";import{h as vt,s as pe,a as ft,b as ut}from"../chunks/D5PGl7_s.js";import{b as gt}from"../chunks/DH98gRLd.js";import{U as mt,g as pt,a as ht,f as re,m as _t,D as xt,L as bt,b as wt}from"../chunks/BPphCm-D.js";import{G as yt,f as Dt}from"../chunks/CMhc7YTO.js";import{L as he}from"../chunks/CNHpmWLX.js";import{C as Ft}from"../chunks/CQSOiHEg.js";var Pt=b('<img alt="" class="w-full h-full object-cover"/>'),kt=b('<div class="w-full h-full flex items-center justify-center"><!></div>'),$t=b('<div draggable="true"><div class="flex items-center gap-3 min-w-0 flex-1"><!> <span class="text-sm font-bold text-surface-400 w-6"> </span> <div class="h-12 w-12 rounded-lg bg-surface-800 overflow-hidden flex-shrink-0"><!></div> <div class="min-w-0 flex-1"><p class="text-sm font-medium text-surface-200 truncate"> </p> <p class="text-xs text-surface-500"> </p></div></div> <button class="p-2 text-surface-500 hover:text-red-400 transition-colors"><!></button></div>'),Lt=b('<div class="mt-4"><div class="h-2 bg-surface-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-blue-500 to-cyan-500 transition-all"></div></div> <p class="text-sm text-surface-400 mt-1 text-center"> </p></div>'),Ut=b('<div class="mt-6 p-4 rounded-xl bg-green-500/10 border border-green-500/30"><div class="flex items-center justify-between"><div><p class="text-green-400 font-medium flex items-center gap-2"><!> Merge complete!</p> <p class="text-sm text-surface-500"> </p></div> <button class="flex items-center gap-2 rounded-xl bg-green-500 px-4 py-2 text-sm font-medium text-white hover:bg-green-600 transition-colors"><!> Download</button></div></div>'),jt=b("<!> Merging...",1),Mt=b("<!> ",1),Rt=b('<div class="mt-6 space-y-2"><div class="flex items-center justify-between text-sm text-surface-400 mb-2"><span> </span> <span> </span></div> <!></div> <!> <!> <button class="mt-6 w-full flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 px-6 py-3 text-base font-semibold text-white shadow-lg shadow-blue-500/30 transition-all hover:shadow-xl hover:shadow-blue-500/40 hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"><!></button>',1),Ct=b('<div class="flex min-h-screen flex-col"><!> <div class="fixed inset-0 -z-10 overflow-hidden"><div class="absolute -top-1/2 -right-1/4 h-[800px] w-[800px] rounded-full bg-gradient-to-br from-blue-500/10 to-cyan-500/10 blur-3xl"></div></div> <main class="flex-1 px-4 sm:px-6 lg:px-8 pt-28 pb-12"><div class="mx-auto max-w-4xl"><div class="text-center mb-8"><div class="inline-flex items-center gap-2 rounded-full bg-blue-500/10 px-4 py-1.5 text-sm font-medium text-blue-400 mb-4"><!> Merge PDFs</div> <h1 class="text-3xl font-bold text-surface-100">Combine multiple PDFs into one</h1> <p class="mt-2 text-surface-500">Drag to reorder, then merge into a single document</p></div> <div role="button" tabindex="0"><input type="file" accept=".pdf,application/pdf" multiple class="hidden"/> <div class="flex flex-col items-center justify-center gap-4 px-6"><div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20"><!></div> <p class="text-lg font-medium text-surface-200"> </p></div></div> <!></div></main> <!></div> <!>',1);function Yt(_e,xe){Ve(xe,!0);let l=k(Ze([])),L=k(!1),w=k(null),z=k(null),A=k(0),X,E=k(!1),U=k(null);const Y=ee(()=>e(l).length>0),be=ee(()=>e(l).reduce((t,r)=>t+(r.pageCount||0),0)),we=ee(()=>e(l).reduce((t,r)=>t+r.file.size,0));function ye(){return`pdf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function ae(t){const r=t.filter(f=>f.type==="application/pdf"||f.name.endsWith(".pdf"));if(r.length===0){T.error("Please select PDF files");return}const n=e(l).length,u=[];for(let f=0;f<r.length;f++){const y=r[f],D={id:ye(),file:y,originalUrl:URL.createObjectURL(y),order:n+f};try{D.thumbnail=await pt(y),D.pageCount=await ht(y)}catch(M){console.warn("Failed to get PDF metadata:",M)}u.push(D)}v(l,[...e(l),...u],!0),v(w,null),v(z,null),T.success(`Added ${r.length} PDF(s)`)}function De(t){const r=e(l).find(n=>n.id===t);r&&URL.revokeObjectURL(r.originalUrl),v(l,e(l).filter(n=>n.id!==t).map((n,u)=>({...n,order:u})),!0),v(w,null),v(z,null)}async function Fe(){if(e(l).length<2){T.error("Need at least 2 PDFs to merge");return}v(L,!0),v(A,0);try{const t=[...e(l)].sort((n,u)=>n.order-u.order).map(n=>n.file),r=await _t(t,n=>{v(A,n,!0)});v(w,r,!0),v(z,URL.createObjectURL(r),!0),T.success(`Merged ${e(l).length} PDFs successfully!`)}catch(t){console.error("Merge error:",t),T.error(t instanceof Error?t.message:"Merge failed")}finally{v(L,!1)}}function Pe(){if(!e(w))return;const t=wt("merged","merge"),r=URL.createObjectURL(e(w)),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}function ke(t){t.preventDefault(),v(E,!0)}function $e(t){t.preventDefault();const r=t.currentTarget.getBoundingClientRect();(t.clientX<r.left||t.clientX>r.right||t.clientY<r.top||t.clientY>r.bottom)&&v(E,!1)}function Le(t){t.preventDefault()}async function Ue(t){t.preventDefault(),v(E,!1);const r=t.dataTransfer?.files;r&&r.length>0&&await ae(Array.from(r))}function se(){X?.click()}async function je(t){const r=t.target;r.files&&r.files.length>0&&await ae(Array.from(r.files)),r.value=""}function Me(t,r){v(U,r,!0),t.dataTransfer&&(t.dataTransfer.effectAllowed="move")}function Re(t,r){if(t.preventDefault(),e(U)&&e(U)!==r){const n=e(l).findIndex(f=>f.id===e(U)),u=e(l).findIndex(f=>f.id===r);if(n!==-1&&u!==-1){const f=[...e(l)],[y]=f.splice(n,1);f.splice(u,0,y),v(l,f.map((D,M)=>({...D,order:M})),!0)}}}function Ce(){v(U,null),v(w,null),v(z,null)}var ne=Ct();vt("s70a7",t=>{tt(()=>{rt.title="Merge PDFs - Smash"})});var N=H(ne),oe=a(N);at(oe,{});var W=d(oe,4),ie=a(W),S=a(ie),le=a(S),Ie=a(le);he(Ie,{class:"h-4 w-4"}),I(),s(le),I(4),s(S);var p=d(S,2);p.__click=se,p.__keydown=t=>t.key==="Enter"&&se();var q=a(p);q.__change=je,gt(q,t=>X=t,()=>X);var de=d(q,2),J=a(de),Oe=a(J);mt(Oe,{class:"h-8 w-8 text-blue-400"}),s(J);var ce=d(J,2),Te=a(ce,!0);s(ce),s(de),s(p);var ze=d(p,2);{var Ae=t=>{var r=Rt(),n=H(r),u=a(n),f=a(u),y=a(f);s(f);var D=d(f,2),M=a(D,!0);s(D),s(u);var Be=d(u,2);it(Be,25,()=>e(l).sort((i,o)=>i.order-o.order),i=>i.id,(i,o)=>{var c=$t(),m=a(c),h=a(m);yt(h,{class:"h-5 w-5 text-surface-500 flex-shrink-0"});var F=d(h,2),G=a(F,!0);s(F);var R=d(F,2),C=a(R);{var K=g=>{var j=Pt();$(()=>ft(j,"src",e(o).thumbnail)),_(g,j)},Q=g=>{var j=kt(),Ke=a(j);ct(Ke,{class:"h-6 w-6 text-surface-500"}),s(j),_(g,j)};O(C,g=>{e(o).thumbnail?g(K):g(Q,!1)})}s(R);var ue=d(R,2),V=a(ue),We=a(V,!0);s(V);var ge=d(V,2),qe=a(ge);s(ge),s(ue),s(m);var Z=d(m,2);Z.__click=()=>De(e(o).id);var Je=a(Z);lt(Je,{class:"h-4 w-4"}),s(Z),s(c),$(g=>{pe(c,1,`glass rounded-xl p-3 flex items-center justify-between cursor-grab active:cursor-grabbing transition-transform ${e(U)===e(o).id?"opacity-50 scale-95":""}`),x(G,e(o).order+1),x(We,e(o).file.name),x(qe,`${g??""} • ${(e(o).pageCount||"?")??""} pages`)},[()=>re(e(o).file.size)]),P("dragstart",c,g=>Me(g,e(o).id)),P("dragover",c,g=>Re(g,e(o).id)),P("dragend",c,Ce),dt(c,()=>Dt,()=>({duration:200})),_(i,c)}),s(n);var ve=d(n,2);{var Ge=i=>{var o=Lt(),c=a(o),m=a(c);s(c);var h=d(c,2),F=a(h);s(h),s(o),$(()=>{ut(m,`width: ${e(A)??""}%`),x(F,`Merging... ${e(A)??""}%`)}),_(i,o)};O(ve,i=>{e(L)&&i(Ge)})}var fe=d(ve,2);{var He=i=>{var o=Ut(),c=a(o),m=a(c),h=a(m),F=a(h);Ft(F,{class:"h-4 w-4"}),I(),s(h);var G=d(h,2),R=a(G);s(G),s(m);var C=d(m,2);C.__click=Pe;var K=a(C);xt(K,{class:"h-4 w-4"}),I(),s(C),s(c),s(o),$(Q=>x(R,`${e(l).length??""} PDFs → 1 PDF (${Q??""})`),[()=>re(e(w).size)]),te(1,o,()=>me,()=>({y:10,duration:200})),_(i,o)};O(fe,i=>{e(w)&&!e(L)&&i(He)})}var B=d(fe,2);B.__click=Fe;var Xe=a(B);{var Ye=i=>{var o=jt(),c=H(o);bt(c,{class:"h-5 w-5 animate-spin"}),I(),_(i,o)},Ne=i=>{var o=Mt(),c=H(o);he(c,{class:"h-5 w-5"});var m=d(c);$(()=>x(m,` Merge ${e(l).length??""} PDFs`)),_(i,o)};O(Xe,i=>{e(L)?i(Ye):i(Ne,!1)})}s(B),$(i=>{x(y,`Drag to reorder • ${e(l).length??""} PDFs • ${e(be)??""} pages total`),x(M,i),B.disabled=e(l).length<2||e(L)},[()=>re(e(we))]),te(1,n,()=>me,()=>({y:20,duration:200})),_(t,r)};O(ze,t=>{e(Y)&&t(Ae)})}s(ie),s(W);var Ee=d(W,2);st(Ee),s(N);var Se=d(N,2);nt(Se,{}),$(()=>{pe(p,1,`relative overflow-hidden rounded-2xl border-2 border-dashed transition-all duration-300 cursor-pointer ${e(E)?"border-accent-start bg-accent-start/10 scale-[1.02]":"border-surface-700 hover:border-surface-600 bg-surface-900/50"} ${e(Y)?"py-6":"py-12"}`),x(Te,e(Y)?"Add more PDFs":"Drop PDFs here or click to browse")}),te(1,S,()=>ot,()=>({duration:200})),P("dragenter",p,ke),P("dragleave",p,$e),P("dragover",p,Le),P("drop",p,Ue),_(_e,ne),et()}Qe(["click","keydown","change"]);export{Yt as component};
