import{d as Me,f,a as u,e as L,c as We}from"../chunks/epw77fHu.js";import{p as qe,f as D,s as o,t as h,g as a,a as b,b as Ge,c,e as Je,d as s,$ as Ke,n as m,r,u as Qe}from"../chunks/BpOpjC-t.js";import{s as J}from"../chunks/Cg0V7AnH.js";import{i as w}from"../chunks/BABAOADx.js";import{H as Ve,e as Ze,F as et,t as j,i as tt,f as at,a as K,T as rt,b as st}from"../chunks/7Dfgy9IJ.js";import{h as it,r as lt,s as de,a as ot,b as nt}from"../chunks/CMkUouna.js";import{b as dt}from"../chunks/BxLmnZki.js";import{b as ct}from"../chunks/CigC9Rhd.js";import{T as vt,c as ut,t as C,U as ft,L as mt,g as gt,a as pt,f as bt,D as _t,b as xt}from"../chunks/m5Bm7dnb.js";import{H as ce}from"../chunks/BEkPsIdm.js";import{S as ht}from"../chunks/NsI-6Zez.js";import{C as wt}from"../chunks/DDMt2E8I.js";var yt=f('<div role="button" tabindex="0"><input type="file" accept=".pdf,application/pdf" class="hidden"/> <div class="flex flex-col items-center justify-center gap-4 px-6"><div class="flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-slate-500/20 to-gray-500/20"><!></div> <p class="text-surface-200 text-lg font-medium">Drop a PDF here or click to browse</p></div></div>'),kt=f('<img alt="" class="h-full w-full object-cover"/>'),Dt=f('<div class="flex h-full w-full items-center justify-center"><!></div>'),Pt=f('<div class="mt-4"><div class="bg-surface-700 h-2 overflow-hidden rounded-full"><div class="h-full bg-gradient-to-r from-slate-500 to-gray-500 transition-all"></div></div></div>'),Ft=f('<div class="mt-4 rounded-xl border border-green-500/30 bg-green-500/10 p-4"><div class="flex items-center justify-between"><p class="flex items-center gap-2 font-medium text-green-400"><!> Page numbers added!</p> <button class="flex items-center gap-2 rounded-lg bg-green-500 px-3 py-1.5 text-sm font-medium text-white hover:bg-green-600"><!> Download</button></div></div>'),Rt=f('<div class="glass rounded-2xl p-4"><div class="flex items-start gap-4"><div class="bg-surface-800 h-24 w-20 flex-shrink-0 overflow-hidden rounded-lg"><!></div> <div class="min-w-0 flex-1"><p class="text-surface-200 truncate font-medium"> </p> <p class="text-surface-500 mt-1 text-sm"> </p> <button class="mt-2 flex items-center gap-1 text-sm text-red-400 hover:text-red-300"><!> Remove</button></div></div> <!></div> <!>',1),Ut=f("<button> </button>"),Lt=f("<!> Adding...",1),jt=f("<!> Add Page Numbers",1),Ct=f('<div class="flex min-h-screen flex-col"><!> <div class="fixed inset-0 -z-10 overflow-hidden"><div class="absolute -right-1/4 -top-1/2 h-[800px] w-[800px] rounded-full bg-gradient-to-br from-slate-500/10 to-gray-500/10 blur-3xl"></div></div> <main class="flex-1 px-4 pb-12 pt-28 sm:px-6 lg:px-8"><div class="mx-auto max-w-4xl"><div class="mb-8 text-center"><div class="mb-4 inline-flex items-center gap-2 rounded-full bg-slate-500/10 px-4 py-1.5 text-sm font-medium text-slate-400"><!> Add Page Numbers</div> <h1 class="text-surface-100 text-3xl font-bold">Add page numbers to your PDF</h1> <p class="text-surface-500 mt-2">Choose position and starting number</p></div> <div class="grid gap-6 lg:grid-cols-2"><div><!></div> <div class="glass rounded-2xl p-6"><h3 class="text-surface-100 mb-6 flex items-center gap-2 text-lg font-semibold"><!> Page Number Settings</h3> <div class="space-y-4"><div><label class="text-surface-300 mb-2 block text-sm font-medium">Position</label> <div class="grid grid-cols-2 gap-2"></div></div> <div><label class="text-surface-300 mb-2 block text-sm font-medium">Start Number</label> <input type="number" min="1" class="bg-surface-800 border-surface-700 text-surface-100 focus:border-accent-start w-full rounded-xl border px-4 py-2.5 focus:outline-none"/></div></div> <button class="mt-6 flex w-full items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-slate-500 to-gray-600 px-6 py-3 text-base font-semibold text-white shadow-lg transition-all hover:scale-[1.02] disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:scale-100"><!></button></div></div></div></main> <!></div> <!>',1);function Yt(ve,ue){qe(ue,!0);let l=b(null),y=b(!1),T=b("bottom-center"),A=b(1),_=b(null),N=b(0),O,P=b(!1);const Q=Qe(()=>a(l)!==null),fe=[{value:"bottom-center",label:"Bottom Center"},{value:"bottom-right",label:"Bottom Right"},{value:"top-center",label:"Top Center"},{value:"top-right",label:"Top Right"}];function me(){return`pdf-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function V(e){const t=e.find(v=>v.type==="application/pdf"||v.name.endsWith(".pdf"));if(!t){C.error("Please select a PDF file");return}a(l)&&URL.revokeObjectURL(a(l).originalUrl);const i={id:me(),file:t,originalUrl:URL.createObjectURL(t)};try{i.thumbnail=await gt(t),i.pageCount=await pt(t)}catch(v){console.warn("Failed to get PDF metadata:",v)}c(l,i,!0),c(_,null),C.success("PDF loaded")}function ge(){a(l)&&(URL.revokeObjectURL(a(l).originalUrl),c(l,null),c(_,null))}async function pe(){if(a(l)){c(y,!0),c(N,0);try{const e=await ut(a(l).file,{position:a(T),startNumber:a(A),onProgress:t=>{c(N,t,!0)}});c(_,e,!0),C.success("Page numbers added!")}catch(e){console.error("Add page numbers error:",e),C.error(e instanceof Error?e.message:"Failed to add page numbers")}finally{c(y,!1)}}}function be(){if(!a(_)||!a(l))return;const e=xt(a(l).file.name,"add-page-numbers"),t=URL.createObjectURL(a(_)),i=document.createElement("a");i.href=t,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)}function _e(e){e.preventDefault(),c(P,!0)}function xe(e){e.preventDefault();const t=e.currentTarget.getBoundingClientRect();(e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom)&&c(P,!1)}function he(e){e.preventDefault()}async function we(e){e.preventDefault(),c(P,!1),e.dataTransfer?.files&&await V(Array.from(e.dataTransfer.files))}function Z(){O?.click()}async function ye(e){const t=e.target;t.files&&await V(Array.from(t.files)),t.value=""}var ee=Ct();it("1kti8jt",e=>{Je(()=>{Ke.title="Add Page Numbers - Smash"})});var S=D(ee),te=s(S);Ve(te,{});var B=o(te,4),ae=s(B),F=s(ae),re=s(F),ke=s(re);ce(ke,{class:"h-4 w-4"}),m(),r(re),m(4),r(F);var se=o(F,2),$=s(se),De=s($);{var Pe=e=>{var t=yt();t.__click=Z,t.__keydown=g=>g.key==="Enter"&&Z();var i=s(t);i.__change=ye,ct(i,g=>O=g,()=>O);var v=o(i,2),x=s(v),U=s(x);ft(U,{class:"h-8 w-8 text-slate-400"}),r(x),m(2),r(v),r(t),h(()=>de(t,1,`relative cursor-pointer overflow-hidden rounded-2xl border-2 border-dashed py-16 transition-all duration-300 ${a(P)?"border-accent-start bg-accent-start/10 scale-[1.02]":"border-surface-700 hover:border-surface-600 bg-surface-900/50"}`)),L("dragenter",t,_e),L("dragleave",t,xe),L("dragover",t,he),L("drop",t,we),u(e,t)},Fe=e=>{var t=We(),i=D(t);{var v=x=>{var U=Rt(),g=D(U),X=s(g),Y=s(X),Ae=s(Y);{var Ne=n=>{var d=kt();h(()=>ot(d,"src",a(l).thumbnail)),u(n,d)},Oe=n=>{var d=Dt(),p=s(d);st(p,{class:"text-surface-500 h-10 w-10"}),r(d),u(n,d)};w(Ae,n=>{a(l).thumbnail?n(Ne):n(Oe,!1)})}r(Y);var ne=o(Y,2),M=s(ne),Se=s(M,!0);r(M);var W=o(M,2),Be=s(W);r(W);var q=o(W,2);q.__click=ge;var $e=s(q);rt($e,{class:"h-3 w-3"}),m(),r(q),r(ne),r(X);var Ee=o(X,2);{var He=n=>{var d=Pt(),p=s(d),k=s(p);r(p),r(d),h(()=>nt(k,`width: ${a(N)??""}%`)),u(n,d)};w(Ee,n=>{a(y)&&n(He)})}r(g);var Ie=o(g,2);{var ze=n=>{var d=Ft(),p=s(d),k=s(p),Xe=s(k);wt(Xe,{class:"h-4 w-4"}),m(),r(k);var G=o(k,2);G.__click=be;var Ye=s(G);_t(Ye,{class:"h-3 w-3"}),m(),r(G),r(p),r(d),j(1,d,()=>K,()=>({y:10,duration:200})),u(n,d)};w(Ie,n=>{a(_)&&n(ze)})}h(n=>{J(Se,a(l).file.name),J(Be,`${n??""} â€¢ ${a(l).pageCount??""} pages`)},[()=>bt(a(l).file.size)]),j(1,g,()=>K,()=>({y:20,duration:200})),u(x,U)};w(i,x=>{a(l)&&x(v)},!0)}u(e,t)};w(De,e=>{a(Q)?e(Fe,!1):e(Pe)})}r($);var E=o($,2),H=s(E),Re=s(H);ht(Re,{class:"text-accent-start h-5 w-5"}),m(),r(H);var I=o(H,2),z=s(I),ie=o(s(z),2);Ze(ie,21,()=>fe,tt,(e,t)=>{var i=Ut();i.__click=()=>c(T,a(t).value,!0);var v=s(i,!0);r(i),h(()=>{de(i,1,`rounded-xl px-3 py-2 text-sm transition-all ${a(T)===a(t).value?"bg-accent-start text-white":"bg-surface-800 text-surface-400 hover:text-surface-200 hover:bg-surface-700"}`),J(v,a(t).label)}),u(e,i)}),r(ie),r(z);var le=o(z,2),oe=o(s(le),2);lt(oe),r(le),r(I);var R=o(I,2);R.__click=pe;var Ue=s(R);{var Le=e=>{var t=Lt(),i=D(t);mt(i,{class:"h-5 w-5 animate-spin"}),m(),u(e,t)},je=e=>{var t=jt(),i=D(t);ce(i,{class:"h-5 w-5"}),m(),u(e,t)};w(Ue,e=>{a(y)?e(Le):e(je,!1)})}r(R),r(E),r(se),r(ae),r(B);var Ce=o(B,2);et(Ce),r(S);var Te=o(S,2);vt(Te,{}),h(()=>R.disabled=!a(Q)||a(y)),j(1,F,()=>at,()=>({duration:200})),dt(oe,()=>a(A),e=>c(A,e)),j(1,E,()=>K,()=>({y:20,delay:100,duration:200})),u(ve,ee),Ge()}Me(["click","keydown","change"]);export{Yt as component};
